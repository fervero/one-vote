{"version":3,"sources":["utilities/arrayHelpers.js","constants.js","state/inputSelectors.js","utilities/dHondtHelpers.js","state/reselectors.js","state/actions.js","state/actionCreators.js","components/DebouncedTextField.jsx","utilities/useDebounce.js","components/ResultsTableHeader.jsx","components/SeatsSpan.jsx","components/PlusMinusMarkers.jsx","components/ResultsCell.jsx","components/ResultsRow.jsx","components/ResultsTable.jsx","components/PollDialog.jsx","components/PollButton.jsx","components/YearSelect.jsx","components/TopBar.jsx","components/BottomBar.jsx","theme.js","results/results-synthetic.js","App.js","serviceWorker.js","state/percentageVotesReducer.js","state/reducers.js","state/store.js","state/resultsInCellReducer.js","state/resultsInColumnReducer.js","state/thresholdsReducer.js","state/rawResultsForAllYearsReducer.js","state/yearReducer.js","index.js"],"names":["sumOfVectors","rowA","rowB","map","x","i","sumArray","arr","reduce","y","adjustArrayToDesiredSum","expectedSum","sumOfVotes","factor","intermediateArray","votes","Math","floor","addition","addEqually","length","remainder","value","index","addNumberToArray","SMALL_NUMBER","DEBOUNCE_TIME","selectResultsInAllDistricts","_ref","resultsInAllDistricts","selectCountryWideParties","_ref2","parties","slice","selectResultsInSingleDistrict","districtNumber","_ref3","selectSeatsArray","_ref4","votingDistricts","_ref5","seats","selectvotingDistricts","_ref8","string2Number","stupidString","saneString","replace","parseInt","adjustVotesWithThresholds","isPartyAboveThreshold","numberOfVotes","computeAllowingForThresholds","adjustedVotes","dhondt","addVotes","position","votesCopy","Object","toConsumableArray","realOutcome","Infinity","seatsActuallyGot","isNaN","max","upperLimit","lowerLimit","bisectAddingVotesOnPosition","subtractVotes","bisectSubtractVotesOnPosition","selectSeatsInDistrict","createSelector","seatsArray","selectSumOfVotes","_ref6","summedPlanktonVotes","sumOfVotesByParty","totalVotes","percentageVotesByParty","selectPartiesAboveThreshold","_ref7","percentage","threshold","partyAboveThreshold","selectSeatsWonInAllDistricts","arguments","undefined","row","selectSeatsWonInADistrict","resultsInSingleDistrict","partiesAboveThreshold","selectVotesRequiredToChangeSth","moreVotes","lessVotes","minVotesToChangeSomething","selectDistrict","selectDistrictNumber","district","_get","selectDistrictSeats","selectElectionYears","_ref9","originalResultsForAllElections","results","year","SET_RAW_RESULTS","SET_SINGLE_RESULTS","SET_RESULTS_IN_COLUMN","SET_THRESHOLDS","SET_PERCENTAGE_VOTES","SET_YEAR","setYear","payload","type","DebouncedTextField","connect","state","columnNumber","props","dispatch","_useState","useState","_useState2","slicedToArray","currentValue","setCurrentValue","foo","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","setResultsInColumn","react_default","a","createElement","TextField","min","onChange","event","newValue","target","InputProps","endAdornment","InputAdornment","useStyles","makeStyles","colData","minWidth","textAlign","colName","width","sticky","zIndex","small","transform","nowrap","whiteSpace","ResultsTableHeader","seatsWonInAllDistricts","classes","formattedPercentageVotes","toFixed","sumOfSeatsByParty","TableRow","TableCell","className","classNames","name","key","Tooltip","title","Filter8_default","fontSize","unit","opacity","SeatsSpan","seatsWonInDistrict","n","seatsLabel","RED","add","color","subtract","highlit","fontWeight","icon","marginLeft","popper","padding","line","maxWidth","PlusMinusMarkers","_React$useState","React","_React$useState2","anchorEl","setAnchorEl","handleClickAway","open","Boolean","id","HelpOutline_default","onClick","currentTarget","Popper","transition","TransitionProps","ClickAwayListener","onClickAway","Fade","assign","timeout","Paper","style","plusOrNone","minusOrNone","numeric","rite","medium","backgroundColor","ResultsCell","cellNumber","PlusMinusMarkers_PlusMinusMarkers","action","SeatsSpan_SeatsSpan","ResultsRow","rowNumber","resultsInDistrict","districtName","react","ResultsTable","hasResults","Table","size","stickyHeader","paddingBottom","TableHead","TableBody","booleanToThreshold","padded","paddedMore","buttons","switchContainer","display","alignItems","switchLabel","header","marginBottom","centered","to2Fixed","PollDialog","onClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","percentageVotes","setPercentageVotes","_useState3","_useState4","thresholds","setThresholds","_useState5","_useState6","valid","setValidity","handleClose","handleThresholdChange","checked","updatedThresholds","Dialog","aria-labelledby","DialogTitle","DialogContent","Grid","container","spacing","item","xs","party","step","evt","parseFloat","newPercentageVotes","oldValue","Switch","DialogActions","Button","variant","disabled","PollButton","setOpen","root","formControl","margin","selectEmpty","marginTop","YearSelect","years","selectYear","activeYear","FormControl","NativeSelect","inputProps","aria-label","flexGrow","menuButton","marginRight","textDecoration","label","TopBar","AppBar","Toolbar","Typography","href","window","location","bottomBar","bottom","right","justifyContent","paddingRight","BottomBar","createMuiTheme","palette","primary","indigo","secondary","pink","planktonVotes","tableWrapper","maxHeight","overflow","ThemeProvider","hostname","match","sum2DimensionalArray","getSumOfAllVotes","calculateMajorVotesSum","planktonVotesInDistricts","DEFAULT_STATE","originalResultsInAllDistricts","store","createStore","_action$payload","newResultsInDistricts","cloneDeep","stateWithUpdatedResults","resultsInCellReducer","relevantColumn","finalColumn","resultsInColumnReducer","bigSum","desiredSums","transposedVotes","unzip","transposedAndAdjustedVotes","zip","column","sum","newSumOfMajorVotes","remainingVotesToBeDistributed","percentageVotesReducer","thresholdsReducer","rawResultsForAllYearsReducer","yearInArray","find","election","yearReducer","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.de8a722f.chunk.js","sourcesContent":["export const sumOfVectors = (rowA, rowB) => rowA.map((x, i) => x + rowB[i]);\r\n\r\nexport const sumArray = arr => arr.reduce((x, y) => x + y, 0);\r\n\r\nconst addNumberToArray = (arr, addition) => {\r\n  const addEqually = Math.floor(addition / arr.length);\r\n  const remainder = addition - addEqually * arr.length;\r\n\r\n  return arr.map((value, index) =>\r\n    index < remainder ? value + 1 + addEqually : value + addEqually\r\n  );\r\n};\r\n\r\nexport const adjustArrayToDesiredSum = (arr, expectedSum) => {\r\n  const sumOfVotes = sumArray(arr);\r\n  const factor = sumOfVotes > 0 ? expectedSum / sumOfVotes : 1;\r\n  const intermediateArray = arr.map(votes => Math.floor(votes * factor));\r\n  const delta = expectedSum - sumArray(intermediateArray);\r\n\r\n  return addNumberToArray(intermediateArray, delta);\r\n};\r\n","export const SMALL_NUMBER = 500;\r\nexport const DEBOUNCE_TIME = 250;\r\n","const selectResultsInAllDistricts = ({ resultsInAllDistricts }) =>\r\n  resultsInAllDistricts;\r\n\r\nconst selectCountryWideParties = ({ parties }) =>\r\n  parties.slice(0, parties.length - 1);\r\n\r\nconst selectResultsInSingleDistrict = districtNumber => ({\r\n  resultsInAllDistricts,\r\n}) => resultsInAllDistricts[districtNumber] || [];\r\n\r\nconst selectResultsOfSpecifiedParty = colNumber => state =>\r\n  selectResultsInAllDistricts(state).map(\r\n    resultsInDistrict => resultsInDistrict[colNumber]\r\n  );\r\n\r\nconst selectSeatsArray = ({ votingDistricts }) =>\r\n  votingDistricts.map(({ seats }) => seats);\r\n\r\nconst selectSummedPlanktonVotes = ({ summedPlanktonVotes }) =>\r\n  summedPlanktonVotes;\r\n\r\nconst selectParties = ({ parties }) => parties;\r\n\r\nconst selectvotingDistricts = ({ votingDistricts }) => votingDistricts;\r\n\r\nconst selectOriginalResultsForAllElections = ({\r\n  originalResultsForAllElections,\r\n}) => originalResultsForAllElections;\r\n\r\nexport {\r\n  selectCountryWideParties,\r\n  selectResultsInAllDistricts,\r\n  selectResultsInSingleDistrict,\r\n  selectResultsOfSpecifiedParty,\r\n  selectSeatsArray,\r\n  selectSummedPlanktonVotes,\r\n  selectParties,\r\n  selectvotingDistricts,\r\n  selectOriginalResultsForAllElections,\r\n};\r\n","import * as dhondt from 'dhondt';\r\n\r\nconst string2Number = stupidString => {\r\n  const saneString = ('' + stupidString).replace(' ', '');\r\n  return parseInt(saneString, 10);\r\n};\r\n\r\nconst adjustVotesWithThresholds = (votes, seats, isPartyAboveThreshold) =>\r\n  votes.map((numberOfVotes, districtNumber) =>\r\n    isPartyAboveThreshold[districtNumber] ? numberOfVotes : 0\r\n  );\r\n\r\nexport const computeAllowingForThresholds = (\r\n  votes,\r\n  seats,\r\n  isPartyAboveThreshold\r\n) => {\r\n  const adjustedVotes = adjustVotesWithThresholds(\r\n    votes,\r\n    seats,\r\n    isPartyAboveThreshold\r\n  );\r\n\r\n  return dhondt.compute(adjustedVotes, seats, isPartyAboveThreshold);\r\n};\r\n\r\n// 2015, okręg z OKW w Rzeszowie - 54 głosy więcej na PSL = 1 mandat więcej na PSL\r\nconst bisectAddingVotesOnPosition = (votes, seats, position) => {\r\n  const votesCopy = [...votes];\r\n\r\n  const realOutcome = dhondt.compute(votes, seats);\r\n\r\n  if (realOutcome[position] === seats) {\r\n    return Infinity;\r\n  }\r\n\r\n  const seatsActuallyGot = realOutcome[position];\r\n\r\n  while (dhondt.compute(votesCopy, seats)[position] === seatsActuallyGot) {\r\n    if (isNaN(votesCopy[position])) {\r\n      return;\r\n    }\r\n\r\n    votesCopy[position] = Math.max(1, 2 * votesCopy[position]);\r\n  }\r\n\r\n  let upperLimit = votesCopy[position];\r\n  let lowerLimit = votes[position];\r\n\r\n  while (upperLimit > lowerLimit + 1) {\r\n    let newOutcome = dhondt.compute(votesCopy, seats);\r\n\r\n    if (newOutcome[position] > seatsActuallyGot) {\r\n      upperLimit = votesCopy[position];\r\n      votesCopy[position] = Math.floor((votesCopy[position] + lowerLimit) / 2);\r\n    } else {\r\n      lowerLimit = votesCopy[position];\r\n      votesCopy[position] = Math.floor((votesCopy[position] + upperLimit) / 2);\r\n    }\r\n  }\r\n\r\n  return dhondt.compute(votesCopy, seats)[position] === seatsActuallyGot\r\n    ? upperLimit - votes[position]\r\n    : lowerLimit - votes[position];\r\n};\r\n\r\n// 2015, okręg z OKW w Olsztynie: 128 głosów dla .N mniej = jeden mandat mniej\r\n// tenże rok, .N, Konin - 210 głosów\r\n// 2011, Siedlce, Ruch Palikota - 169\r\n\r\nconst bisectSubtractVotesOnPosition = (votes, seats, position) => {\r\n  const votesCopy = [...votes];\r\n  const realOutcome = dhondt.compute(votes, seats);\r\n  const seatsActuallyGot = realOutcome[position];\r\n\r\n  if (seatsActuallyGot === 0) {\r\n    return 0;\r\n  }\r\n\r\n  while (dhondt.compute(votesCopy, seats)[position] === seatsActuallyGot) {\r\n    votesCopy[position] = Math.floor(votesCopy[position] / 2);\r\n  }\r\n\r\n  let lowerLimit = votesCopy[position];\r\n  let upperLimit = votes[position];\r\n\r\n  while (upperLimit > lowerLimit + 1) {\r\n    let newOutcome = dhondt.compute(votesCopy, seats);\r\n\r\n    if (newOutcome[position] < seatsActuallyGot) {\r\n      lowerLimit = votesCopy[position];\r\n      votesCopy[position] = Math.floor((votesCopy[position] + upperLimit) / 2);\r\n    } else {\r\n      upperLimit = votesCopy[position];\r\n      votesCopy[position] = Math.floor((votesCopy[position] + lowerLimit) / 2);\r\n    }\r\n  }\r\n\r\n  votesCopy[position] = lowerLimit;\r\n\r\n  return dhondt.compute(votesCopy, seats)[position] === seatsActuallyGot\r\n    ? upperLimit - votes[position]\r\n    : lowerLimit - votes[position];\r\n};\r\n\r\nexport const addVotes = (votes, seats, isPartyAboveThreshold) =>\r\n  votes.map((x, i) =>\r\n    isPartyAboveThreshold[i]\r\n      ? bisectAddingVotesOnPosition(votes, seats, i)\r\n      : +Infinity\r\n  );\r\n\r\nexport const subtractVotes = (votes, seats, isPartyAboveThreshold) =>\r\n  votes.map((x, i) =>\r\n    isPartyAboveThreshold[i]\r\n      ? bisectSubtractVotesOnPosition(votes, seats, i)\r\n      : -Infinity\r\n  );\r\n\r\nexport const minVotesToChangeSomething = (\r\n  row,\r\n  seats,\r\n  isPartyAboveThreshold = []\r\n) => {\r\n  const votes = row.map(string2Number);\r\n\r\n  const adjustedVotes = adjustVotesWithThresholds(\r\n    votes,\r\n    seats,\r\n    isPartyAboveThreshold\r\n  );\r\n\r\n  const moreVotes = addVotes(adjustedVotes, seats, isPartyAboveThreshold).map(\r\n    x => (x === null || x > 0 ? x : Infinity)\r\n  );\r\n\r\n  const lessVotes = subtractVotes(\r\n    adjustedVotes,\r\n    seats,\r\n    isPartyAboveThreshold\r\n  ).map(x => (x === null || x < 0 ? x : -Infinity));\r\n\r\n  return { moreVotes, lessVotes };\r\n};\r\n\r\nexport const partyAboveThreshold = (percentageVotesByParty, parties) =>\r\n  percentageVotesByParty.map(\r\n    (percentage, i) => percentage * 100 >= (parties[i] || {}).threshold\r\n  );\r\n","import { get as _get } from 'lodash';\r\nimport { createSelector } from 'reselect';\r\nimport { sumOfVectors, sumArray } from '../utilities/arrayHelpers';\r\n\r\nimport {\r\n  minVotesToChangeSomething,\r\n  partyAboveThreshold,\r\n  computeAllowingForThresholds,\r\n} from '../utilities/dHondtHelpers';\r\n\r\nimport {\r\n  selectResultsInAllDistricts,\r\n  selectResultsInSingleDistrict,\r\n  selectSeatsArray,\r\n  selectSummedPlanktonVotes,\r\n  selectParties,\r\n  selectvotingDistricts,\r\n  selectOriginalResultsForAllElections,\r\n} from './inputSelectors';\r\n\r\nconst selectSeatsInDistrict = districtNumber =>\r\n  createSelector(\r\n    [selectSeatsArray],\r\n    seatsArray => seatsArray[districtNumber]\r\n  );\r\n\r\nconst selectSumOfVotes = createSelector(\r\n  [selectResultsInAllDistricts, selectSummedPlanktonVotes],\r\n  (resultsInAllDistricts, summedPlanktonVotes) => {\r\n    const sumOfVotesByParty = resultsInAllDistricts.reduce(sumOfVectors);\r\n    const totalVotes = sumArray(sumOfVotesByParty) + summedPlanktonVotes;\r\n    const percentageVotesByParty = sumOfVotesByParty.map(x => x / totalVotes);\r\n\r\n    return {\r\n      sumOfVotesByParty,\r\n      percentageVotesByParty,\r\n    };\r\n  }\r\n);\r\n\r\nconst selectPartiesAboveThreshold = createSelector(\r\n  [selectParties, selectSumOfVotes],\r\n  (parties, { percentageVotesByParty }) =>\r\n    partyAboveThreshold(percentageVotesByParty, parties)\r\n);\r\n\r\nconst selectSeatsWonInAllDistricts = createSelector(\r\n  [selectResultsInAllDistricts, selectPartiesAboveThreshold, selectSeatsArray],\r\n  (resultsInAllDistricts = [], isPartyAboveThreshold = [], seatsArray = []) =>\r\n    resultsInAllDistricts.map((row, i) =>\r\n      computeAllowingForThresholds(row, seatsArray[i], isPartyAboveThreshold)\r\n    ) || []\r\n);\r\n\r\nconst selectSeatsWonInADistrict = districtNumber =>\r\n  createSelector(\r\n    [\r\n      selectResultsInSingleDistrict(districtNumber),\r\n      selectPartiesAboveThreshold,\r\n      selectSeatsInDistrict(districtNumber),\r\n    ],\r\n    (resultsInSingleDistrict, partiesAboveThreshold, seats) =>\r\n      computeAllowingForThresholds(\r\n        resultsInSingleDistrict,\r\n        seats,\r\n        partiesAboveThreshold\r\n      )\r\n  );\r\n\r\nconst selectVotesRequiredToChangeSth = districtNumber =>\r\n  createSelector(\r\n    [\r\n      selectResultsInSingleDistrict(districtNumber),\r\n      selectPartiesAboveThreshold,\r\n      selectSeatsInDistrict(districtNumber),\r\n    ],\r\n    (resultsInSingleDistrict, partiesAboveThreshold, seats) =>\r\n      minVotesToChangeSomething(\r\n        resultsInSingleDistrict,\r\n        seats,\r\n        partiesAboveThreshold\r\n      )\r\n  );\r\n\r\nconst selectDistrict = districtNumber =>\r\n  createSelector(\r\n    [selectvotingDistricts],\r\n    votingDistricts => votingDistricts[districtNumber]\r\n  );\r\n\r\nconst selectDistrictName = districtNumber =>\r\n  createSelector(\r\n    [selectDistrict(districtNumber)],\r\n    district => _get(district, 'districtName')\r\n  );\r\n\r\nconst selectDistrictNumber = districtNumber =>\r\n  createSelector(\r\n    [selectDistrict(districtNumber)],\r\n    district => _get(district, 'districtNumber')\r\n  );\r\n\r\nconst selectDistrictSeats = districtNumber =>\r\n  createSelector(\r\n    [selectDistrict(districtNumber)],\r\n    district => _get(district, 'seats')\r\n  );\r\n\r\nconst selectElectionYears = createSelector(\r\n  [selectOriginalResultsForAllElections],\r\n  results => results.map(({ year }) => year)\r\n);\r\n\r\nexport {\r\n  selectSumOfVotes,\r\n  selectPartiesAboveThreshold,\r\n  selectSeatsWonInAllDistricts,\r\n  selectSeatsWonInADistrict,\r\n  selectVotesRequiredToChangeSth,\r\n  selectDistrict,\r\n  selectDistrictName,\r\n  selectDistrictNumber,\r\n  selectDistrictSeats,\r\n  selectElectionYears,\r\n};\r\n","export const SET_RAW_RESULTS = 'SET_RAW_RESULTS';\r\nexport const SET_SINGLE_RESULTS = 'SET_SINGLE_RESULTS';\r\nexport const SET_RESULTS_IN_COLUMN = 'SET_RESULTS_IN_COLUMN';\r\nexport const SET_THRESHOLDS = 'SET_THRESHOLDS';\r\nexport const SET_PERCENTAGE_VOTES = 'SET_PERCENTAGE_VOTES';\r\nexport const SET_YEAR = 'SET_YEAR';\r\n","import {\r\n  SET_SINGLE_RESULTS,\r\n  SET_RESULTS_IN_COLUMN,\r\n  SET_PERCENTAGE_VOTES,\r\n  SET_THRESHOLDS,\r\n  SET_RAW_RESULTS,\r\n  SET_YEAR,\r\n} from './actions';\r\n\r\nexport function setRawResults(payload) {\r\n  return {\r\n    type: SET_RAW_RESULTS,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function setYear(payload) {\r\n  return {\r\n    type: SET_YEAR,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function setResultsInColumn(columnNumber, votes) {\r\n  return {\r\n    type: SET_RESULTS_IN_COLUMN,\r\n    payload: {\r\n      columnNumber,\r\n      votes: +votes,\r\n    },\r\n  };\r\n}\r\n\r\nexport function setThresholds(payload) {\r\n  return {\r\n    type: SET_THRESHOLDS,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function setSingleResults(payload) {\r\n  return {\r\n    type: SET_SINGLE_RESULTS,\r\n    payload,\r\n  };\r\n}\r\n\r\nexport function setPercentageVotes(payload) {\r\n  return {\r\n    type: SET_PERCENTAGE_VOTES,\r\n    payload,\r\n  };\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { DEBOUNCE_TIME } from '../constants';\r\nimport { connect } from 'react-redux';\r\nimport { selectSumOfVotes } from '../state/selectors';\r\nimport { setResultsInColumn } from '../state/actionCreators';\r\nimport { useDebounce } from '../utilities/useDebounce';\r\n\r\nconst mapStateToProps = (state, { columnNumber }) => {\r\n  const { sumOfVotesByParty } = selectSumOfVotes(state);\r\n\r\n  return {\r\n    value: sumOfVotesByParty[columnNumber],\r\n  };\r\n};\r\n\r\nfunction DebouncedTextFieldComponent(props) {\r\n  const { dispatch, columnNumber, value } = props;\r\n  const [currentValue, setCurrentValue] = useState(value);\r\n  const foo = useDebounce(currentValue, DEBOUNCE_TIME);\r\n\r\n  useEffect(() => {\r\n    dispatch(setResultsInColumn(columnNumber, foo));\r\n  }, [foo]);\r\n\r\n  useEffect(() => {\r\n    setCurrentValue(value);\r\n  }, [value]);\r\n\r\n  const handleChange = event => {\r\n    const newValue = parseInt(event.target.value, 10);\r\n\r\n    if (!!event.target.value && isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    const value = newValue ? Math.max(newValue, 0) : 0;\r\n    setCurrentValue(value);\r\n  };\r\n\r\n  return (\r\n    <TextField\r\n      value={currentValue}\r\n      min=\"0\"\r\n      type=\"number\"\r\n      onChange={handleChange}\r\n      InputProps={{\r\n        endAdornment: <InputAdornment position=\"end\">gł.</InputAdornment>,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport const DebouncedTextField = connect(mapStateToProps)(\r\n  DebouncedTextFieldComponent\r\n);\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport function useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value]);\r\n\r\n  return debouncedValue;\r\n}\r\n","import React from 'react';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport Filter8Icon from '@material-ui/icons/Filter8';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { connect } from 'react-redux';\r\nimport { sumOfVectors } from '../utilities/arrayHelpers';\r\nimport classNames from 'classnames';\r\nimport { DebouncedTextField } from './DebouncedTextField';\r\n\r\nimport {\r\n  selectSeatsWonInAllDistricts,\r\n  selectSumOfVotes,\r\n  selectCountryWideParties,\r\n  selectResultsInAllDistricts,\r\n} from '../state/selectors';\r\n\r\nconst mapStateToProps = state => {\r\n  const { percentageVotesByParty } = selectSumOfVotes(state);\r\n\r\n  return {\r\n    parties: selectCountryWideParties(state),\r\n    seatsWonInAllDistricts: selectSeatsWonInAllDistricts(state),\r\n    resultsInAllDistricts: selectResultsInAllDistricts(state),\r\n    percentageVotesByParty,\r\n  };\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  colData: {\r\n    minWidth: '5.5rem',\r\n    textAlign: 'right',\r\n  },\r\n  colName: {\r\n    width: '10rem',\r\n  },\r\n  sticky: { zIndex: 100 },\r\n  small: { transform: 'scale(0.8) translateY(.3em)' },\r\n  nowrap: {\r\n    whiteSpace: 'nowrap',\r\n  },\r\n});\r\n\r\nfunction ResultsTableHeaderComponent({\r\n  parties,\r\n  seatsWonInAllDistricts,\r\n  percentageVotesByParty,\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const formattedPercentageVotes = percentageVotesByParty.map(x =>\r\n    (100 * x).toFixed(2)\r\n  );\r\n\r\n  const sumOfSeatsByParty = seatsWonInAllDistricts.reduce(sumOfVectors);\r\n\r\n  return (\r\n    <TableRow>\r\n      <TableCell className={classNames(classes.sticky, classes.colName)}>\r\n        Okręg\r\n      </TableCell>\r\n      {parties.map(({ name, threshold }, i) => (\r\n        <TableCell\r\n          key={name}\r\n          className={classNames(classes.sticky, classes.colData)}\r\n        >\r\n          <span className={classes.nowrap}>\r\n            {name} ({sumOfSeatsByParty[i]})\r\n            {threshold === 8 ? (\r\n              <Tooltip title=\"8-procentowy próg wyborczy\">\r\n                <Filter8Icon\r\n                  fontSize=\"small\"\r\n                  className={classes.small}\r\n                ></Filter8Icon>\r\n              </Tooltip>\r\n            ) : null}\r\n          </span>\r\n          <br />\r\n          {formattedPercentageVotes[i]}%\r\n          <br />\r\n          <DebouncedTextField columnNumber={i}></DebouncedTextField>\r\n        </TableCell>\r\n      ))}\r\n    </TableRow>\r\n  );\r\n}\r\n\r\nexport const ResultsTableHeader = connect(mapStateToProps)(\r\n  ResultsTableHeaderComponent\r\n);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst seatsLabel = n => {\r\n  switch (n) {\r\n    case 1: {\r\n      return '\\xa0mandat';\r\n    }\r\n    case 2:\r\n    case 3:\r\n    case 4: {\r\n      return '\\xa0mandaty';\r\n    }\r\n    default: {\r\n      return '\\xa0mandatów';\r\n    }\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  unit: { fontSize: '80%', opacity: '.8' },\r\n});\r\n\r\nexport const SeatsSpan = ({ seatsWonInDistrict }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <span className={classes.unit}>\r\n      {seatsWonInDistrict}&nbsp;{seatsLabel(seatsWonInDistrict)}\r\n    </span>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport classNames from 'classnames';\r\nimport { SMALL_NUMBER } from '../constants';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport { ClickAwayListener } from '@material-ui/core';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst RED = '#D32F2F';\r\nconst GREEN = '#4CAF50';\r\n\r\nconst useStyles = makeStyles({\r\n  add: { fontSize: '80%', color: GREEN },\r\n  subtract: { fontSize: '80%', color: RED },\r\n  highlit: { fontWeight: 900 },\r\n  icon: { fontSize: '.75rem', marginLeft: '.5em' },\r\n  popper: { padding: '1.5em 2em 1em' },\r\n  line: { maxWidth: '20em' },\r\n  nowrap: { whiteSpace: 'nowrap' },\r\n});\r\n\r\nconst plusOrNone = moreVotes =>\r\n  moreVotes !== null && moreVotes < Infinity ? (\r\n    <span>\r\n      <span style={{ color: GREEN }}>\r\n        {moreVotes !== null && moreVotes < Infinity ? '+' + moreVotes : '-'}\r\n      </span>\r\n      : żeby lista zdobyła jeden więcej mandat w okręgu, potrzeba dokładnie{' '}\r\n      <span style={{ color: GREEN }}>{moreVotes}</span> głosów więcej.\r\n    </span>\r\n  ) : (\r\n    <span>\r\n      <span style={{ color: GREEN }}>+</span>:Więcej mandatów już nie będzie.\r\n    </span>\r\n  );\r\n\r\nconst minusOrNone = lessVotes =>\r\n  lessVotes !== null && lessVotes > -Infinity ? (\r\n    <span>\r\n      <span style={{ color: RED }}>\r\n        {lessVotes !== null && lessVotes < Infinity ? lessVotes : '-'}\r\n      </span>\r\n      : żeby lista zdobyła jeden mniej mandat w okręgu, musi dostać dokładnie{' '}\r\n      <span style={{ color: RED }}>{-lessVotes}</span> głosów mniej.\r\n    </span>\r\n  ) : (\r\n    <span>\r\n      <span style={{ color: RED }}>-</span>: mniej (niż zero) mandatów nie\r\n      będzie.\r\n    </span>\r\n  );\r\n\r\nexport const PlusMinusMarkers = ({ moreVotes, lessVotes }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = event => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <span className={classes.nowrap}>\r\n      <span\r\n        className={classNames(\r\n          classes.add,\r\n          moreVotes < SMALL_NUMBER ? classes.highlit : ''\r\n        )}\r\n      >\r\n        {moreVotes !== null && moreVotes < Infinity ? '+' + moreVotes : '-'}\r\n      </span>\r\n      /\r\n      <span\r\n        className={classNames(\r\n          classes.subtract,\r\n          lessVotes > -SMALL_NUMBER ? classes.highlit : ''\r\n        )}\r\n      >\r\n        {lessVotes !== null && lessVotes > -Infinity ? lessVotes : '-'}\r\n      </span>\r\n      <HelpOutlineIcon\r\n        className={classes.icon}\r\n        onClick={handleClick}\r\n      ></HelpOutlineIcon>\r\n      <Popper id={id} open={open} anchorEl={anchorEl} transition>\r\n        {({ TransitionProps }) => (\r\n          <ClickAwayListener onClickAway={handleClickAway}>\r\n            <Fade {...TransitionProps} timeout={350}>\r\n              {moreVotes < Infinity || lessVotes > -Infinity ? (\r\n                <Paper className={classes.popper}>\r\n                  <p className={classes.line}>{plusOrNone(moreVotes)}</p>\r\n                  <p className={classes.line}>{minusOrNone(lessVotes)}</p>\r\n                </Paper>\r\n              ) : (\r\n                <Paper className={classes.popper}>\r\n                  <p className={classes.line}>\r\n                    Dopóki lista nie przekroczy progu wyborczego na poziomie\r\n                    kraju, w ogóle nie uczestniczy w podziale głosów.\r\n                  </p>\r\n                </Paper>\r\n              )}\r\n            </Fade>\r\n          </ClickAwayListener>\r\n        )}\r\n      </Popper>\r\n    </span>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { SeatsSpan } from './SeatsSpan';\r\nimport { PlusMinusMarkers } from './PlusMinusMarkers';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport { setSingleResults } from '../state/actionCreators';\r\nimport { SMALL_NUMBER } from '../constants';\r\nimport classNames from 'classnames';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst ACCENT = '#FFFFB6';\r\n\r\nconst useStyles = makeStyles({\r\n  numeric: {\r\n    maxWidth: '1.25rem',\r\n    textAlign: 'right',\r\n  },\r\n  rite: {\r\n    textAlign: 'right',\r\n    fontSize: '8px !important',\r\n  },\r\n  medium: {\r\n    width: '10rem',\r\n  },\r\n  highlit: { backgroundColor: ACCENT },\r\n});\r\n\r\nfunction ResultsCellComponent({\r\n  moreVotes,\r\n  lessVotes,\r\n  votes,\r\n  districtNumber,\r\n  cellNumber,\r\n  seatsWonInDistrict,\r\n  dispatch,\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  const onVotesChange = event => {\r\n    const action = setSingleResults({\r\n      districtNumber: districtNumber - 1,\r\n      cellNumber,\r\n      value: Math.max(+event.target.value, 0),\r\n    });\r\n\r\n    dispatch(action);\r\n  };\r\n\r\n  return (\r\n    <TableCell\r\n      className={classNames(\r\n        classes.numeric,\r\n        moreVotes < SMALL_NUMBER || lessVotes > -SMALL_NUMBER\r\n          ? classes.highlit\r\n          : ''\r\n      )}\r\n    >\r\n      <PlusMinusMarkers\r\n        moreVotes={moreVotes}\r\n        lessVotes={lessVotes}\r\n      ></PlusMinusMarkers>\r\n      <br />\r\n      <TextField\r\n        value={votes}\r\n        min=\"0\"\r\n        type=\"number\"\r\n        className={classes.rite}\r\n        onChange={onVotesChange}\r\n        InputProps={{\r\n          endAdornment: <InputAdornment position=\"end\">gł.</InputAdornment>,\r\n        }}\r\n      />\r\n      <br />\r\n      <SeatsSpan seatsWonInDistrict={seatsWonInDistrict}></SeatsSpan>\r\n    </TableCell>\r\n  );\r\n}\r\n\r\nexport const ResultsCell = connect(mapStateToProps)(ResultsCellComponent);\r\n","import React, { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport { ResultsCell } from './ResultsCell';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n  selectVotesRequiredToChangeSth,\r\n  selectSeatsWonInADistrict,\r\n  selectDistrictName,\r\n  selectDistrictNumber,\r\n  selectDistrictSeats,\r\n  selectResultsInSingleDistrict,\r\n} from '../state/selectors';\r\n\r\nconst mapStateToProps = (state, { rowNumber }) => ({\r\n  resultsInDistrict: selectResultsInSingleDistrict(rowNumber)(state),\r\n  minVotesToChangeSomething: selectVotesRequiredToChangeSth(rowNumber)(state),\r\n  districtName: selectDistrictName(rowNumber)(state),\r\n  districtNumber: selectDistrictNumber(rowNumber)(state),\r\n  seats: selectDistrictSeats(rowNumber)(state),\r\n  seatsWonInDistrict: selectSeatsWonInADistrict(rowNumber)(state),\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  medium: {\r\n    width: '10rem',\r\n  },\r\n  seats: {\r\n    fontWeight: 500,\r\n  },\r\n});\r\n\r\nfunction ResultsRowComponent({\r\n  minVotesToChangeSomething,\r\n  districtNumber,\r\n  districtName,\r\n  resultsInDistrict,\r\n  seatsWonInDistrict,\r\n  seats,\r\n}) {\r\n  const { moreVotes, lessVotes } = minVotesToChangeSomething;\r\n  const classes = useStyles();\r\n  const length = (resultsInDistrict || []).length;\r\n\r\n  return (\r\n    <Fragment>\r\n      <TableCell className={classes.medium}>\r\n        {districtNumber}. {districtName}{' '}\r\n        <span className={classes.seats}>({seats})</span>\r\n      </TableCell>\r\n\r\n      {(resultsInDistrict || []).slice(0, length - 1).map((votes, i) => (\r\n        <ResultsCell\r\n          key={i}\r\n          moreVotes={moreVotes[i]}\r\n          lessVotes={lessVotes[i]}\r\n          votes={votes}\r\n          cellNumber={i}\r\n          districtNumber={districtNumber}\r\n          seatsWonInDistrict={seatsWonInDistrict[i]}\r\n        ></ResultsCell>\r\n      ))}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport const ResultsRow = connect(mapStateToProps)(ResultsRowComponent);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Table, TableBody, TableHead } from '@material-ui/core';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { ResultsTableHeader } from './ResultsTableHeader';\r\nimport { ResultsRow } from './ResultsRow';\r\nimport { selectResultsInAllDistricts } from '../state/selectors';\r\n\r\nconst hasResults = resultsInAllDistricts =>\r\n  resultsInAllDistricts &&\r\n  resultsInAllDistricts.length &&\r\n  resultsInAllDistricts[0] &&\r\n  resultsInAllDistricts[0].length;\r\n\r\nconst mapStateToProps = state => ({\r\n  resultsInAllDistricts: selectResultsInAllDistricts(state),\r\n});\r\n\r\nconst ResultsTableComponent = ({ resultsInAllDistricts }) => {\r\n  if (!hasResults(resultsInAllDistricts)) {\r\n    return <span></span>;\r\n  }\r\n\r\n  return (\r\n    <Table size=\"small\" stickyHeader style={{ paddingBottom: '2rem' }}>\r\n      <TableHead>\r\n        <ResultsTableHeader></ResultsTableHeader>\r\n      </TableHead>\r\n      <TableBody>\r\n        {resultsInAllDistricts.map((x, i) => (\r\n          <TableRow key={i}>\r\n            <ResultsRow rowNumber={i} />\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport const ResultsTable = connect(mapStateToProps)(ResultsTableComponent);\r\n","import React, { useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { connect } from 'react-redux';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\nimport {\r\n  selectSeatsWonInAllDistricts,\r\n  selectSumOfVotes,\r\n  selectCountryWideParties,\r\n} from '../state/selectors';\r\nimport { sumArray } from '../utilities/arrayHelpers';\r\n\r\nconst mapStateToProps = state => {\r\n  const { percentageVotesByParty } = selectSumOfVotes(state);\r\n\r\n  return {\r\n    parties: selectCountryWideParties(state),\r\n    seatsWonInAllDistricts: selectSeatsWonInAllDistricts(state),\r\n    percentageVotesByParty,\r\n  };\r\n};\r\n\r\nconst booleanToThreshold = value => (value ? 8 : 5);\r\n\r\nconst useStyles = makeStyles({\r\n  padded: {\r\n    padding: '1rem 2rem 1rem 1rem',\r\n  },\r\n  paddedMore: {\r\n    padding: '2.5rem 6rem 2.5rem 2.5rem',\r\n  },\r\n  buttons: {\r\n    padding: '1rem 1rem 1.25rem',\r\n  },\r\n  switchContainer: {\r\n    display: 'flex',\r\n    alignItems: 'baseline',\r\n  },\r\n  switchLabel: {\r\n    fontSize: '.8em',\r\n  },\r\n  header: {\r\n    marginBottom: '1rem',\r\n  },\r\n  centered: {\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nconst to2Fixed = x => (x * 100).toFixed(2);\r\n\r\nfunction PollDialogComponent({\r\n  onClose,\r\n  open,\r\n  parties,\r\n  percentageVotesByParty,\r\n}) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const [percentageVotes, setPercentageVotes] = useState(\r\n    percentageVotesByParty.map(to2Fixed)\r\n  );\r\n\r\n  const [thresholds, setThresholds] = useState(\r\n    parties.map(({ threshold }) => threshold)\r\n  );\r\n\r\n  const [valid, setValidity] = useState(true);\r\n\r\n  useEffect(() => setPercentageVotes(percentageVotesByParty.map(to2Fixed)), [\r\n    percentageVotesByParty,\r\n  ]);\r\n\r\n  useEffect(() => setThresholds(parties.map(({ threshold }) => threshold)), [\r\n    parties,\r\n  ]);\r\n\r\n  const handleClose = () => {\r\n    onClose(null);\r\n  };\r\n\r\n  const handleInput = rowNumber => evt => {\r\n    const { value } = evt.target;\r\n\r\n    if (value && isNaN(parseFloat(value))) {\r\n      return;\r\n    }\r\n\r\n    const newPercentageVotes = percentageVotes.map((oldValue, i) =>\r\n      rowNumber === i ? value || '0' : oldValue\r\n    );\r\n\r\n    setValidity(sumArray(newPercentageVotes.map(parseFloat)) <= 100);\r\n\r\n    setPercentageVotes(newPercentageVotes);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setPercentageVotes(percentageVotesByParty.map(to2Fixed));\r\n    setThresholds(parties.map(({ threshold }) => threshold));\r\n    handleClose();\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    onClose({\r\n      percentageVotes: percentageVotes.map(x => parseFloat(x) / 100),\r\n      thresholds,\r\n    });\r\n  };\r\n\r\n  const handleThresholdChange = event => {\r\n    const index = +event.target.value;\r\n    const newValue = booleanToThreshold(event.target.checked);\r\n\r\n    const updatedThresholds = thresholds.map((x, i) =>\r\n      i === index ? newValue : x\r\n    );\r\n\r\n    setThresholds(updatedThresholds);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n      fullScreen={fullScreen}\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">Sondaż</DialogTitle>\r\n      <DialogContent>\r\n        <div className={fullScreen ? classes.padded : classes.paddedMore}>\r\n          <Grid\r\n            container\r\n            spacing={fullScreen ? 1 : 3}\r\n            className={classes.header}\r\n          >\r\n            <Grid item xs={5}></Grid>\r\n            <Grid item xs={5}></Grid>\r\n            <Grid item xs={2} className={classes.centered}>\r\n              Próg\r\n            </Grid>\r\n          </Grid>\r\n          {parties.map((party, i) => (\r\n            <div key={party.name}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={5}>\r\n                  {party.name}:\r\n                </Grid>\r\n                <Grid item xs={5}>\r\n                  <TextField\r\n                    value={percentageVotes[i]}\r\n                    min=\"0\"\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    onChange={handleInput(i)}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <InputAdornment position=\"end\">%</InputAdornment>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                  <div className={classes.switchContainer}>\r\n                    <span className={classes.switchLabel}>5%</span>\r\n                    <Switch\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      checked={thresholds[i] === 8}\r\n                      onChange={handleThresholdChange}\r\n                      value={i}\r\n                    />\r\n                    <span className={classes.switchLabel}>8%</span>\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={!valid}\r\n          onClick={handleSubmit}\r\n        >\r\n          Zastosuj\r\n        </Button>\r\n        <Button variant=\"contained\" onClick={handleCancel}>\r\n          Albo nie, rozmyśliłem się\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport const PollDialog = connect(mapStateToProps)(PollDialogComponent);\r\n","import React, { Fragment } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport { PollDialog } from './PollDialog';\r\nimport { connect } from 'react-redux';\r\nimport { setPercentageVotes, setThresholds } from '../state/actionCreators';\r\n\r\nfunction PollButtonComponent({ dispatch }) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = value => {\r\n    setOpen(false);\r\n\r\n    if (value) {\r\n      dispatch(setPercentageVotes(value.percentageVotes));\r\n      dispatch(setThresholds(value.thresholds));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Button\r\n        variant=\"contained\"\r\n        size=\"small\"\r\n        onClick={handleClickOpen}\r\n        style={{ marginLeft: '1rem' }}\r\n      >\r\n        Wstukaj sondaż\r\n      </Button>\r\n      <PollDialog open={open} onClose={handleClose} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport const PollButton = connect(() => ({}))(PollButtonComponent);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport NativeSelect from '@material-ui/core/NativeSelect';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'inline-flex',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport function YearSelect({ years, selectYear, activeYear }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <FormControl className={classes.formControl}>\r\n        <NativeSelect\r\n          value={activeYear || ''}\r\n          onChange={selectYear}\r\n          name=\"year\"\r\n          className={classes.selectEmpty}\r\n          inputProps={{ 'aria-label': 'age' }}\r\n        >\r\n          <option value=\"\" disabled=\"disabled\"></option>\r\n          {years.map(year => (\r\n            <option key={year} value={year}>\r\n              {year}\r\n            </option>\r\n          ))}\r\n        </NativeSelect>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { PollButton } from './PollButton';\r\nimport { YearSelect } from './YearSelect';\r\nimport { setYear } from '../state/actionCreators';\r\nimport { connect } from 'react-redux';\r\nimport { selectElectionYears } from '../state/selectors';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  highlit: {\r\n    fontWeight: 900,\r\n    textDecoration: 'underline',\r\n  },\r\n  label: {\r\n    marginRight: '2rem',\r\n  },\r\n  buttons: {\r\n    padding: '.25rem 0 0 1rem',\r\n  },\r\n}));\r\n\r\nconst mapStateToProps = state => ({\r\n  activeYear: state.year,\r\n  years: selectElectionYears(state),\r\n});\r\n\r\nfunction TopBarComponent({ years, activeYear, dispatch }) {\r\n  const classes = useStyles();\r\n\r\n  const selectYear = event => {\r\n    dispatch(setYear(+event.target.value));\r\n  };\r\n\r\n  const reset = () => {\r\n    dispatch(setYear(activeYear));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            <a\r\n              href={window.location.href}\r\n              style={{ color: 'inherit', textDecoration: 'inherit' }}\r\n            >\r\n              &bdquo;Jeden głos nic nie znaczy&rdquo;\r\n            </a>\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <div className={classes.buttons}>\r\n        <span className={classes.label}>Wyniki wyborów z roku:</span>\r\n        <YearSelect\r\n          years={years}\r\n          selectYear={selectYear}\r\n          activeYear={activeYear}\r\n        ></YearSelect>\r\n        {activeYear ? <PollButton></PollButton> : ''}\r\n        {activeYear ? (\r\n          <Button\r\n            variant=\"contained\"\r\n            size=\"small\"\r\n            style={{ marginLeft: '1rem' }}\r\n            onClick={reset}\r\n          >\r\n            Resetuj\r\n          </Button>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const TopBar = connect(mapStateToProps)(TopBarComponent);\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  bottomBar: {\r\n    bottom: 0,\r\n    position: 'fixed',\r\n  },\r\n  right: {\r\n    justifyContent: 'flex-end',\r\n    paddingRight: '3rem',\r\n  },\r\n}));\r\n\r\nexport function BottomBar() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar position=\"static\" className={classes.bottomBar}>\r\n      <Toolbar className={classes.right}>by Maciej Bójko, 2019</Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\nimport pink from '@material-ui/core/colors/pink';\r\n\r\nexport const theme = createMuiTheme({\r\n  palette: {\r\n    primary: indigo,\r\n    secondary: pink, // Indigo is probably a good match with pink\r\n  },\r\n});\r\n","export const results = [{\r\n\t\"year\": 2005,\r\n\t\"results\": [[{\r\n\t\t\t\t\"name\": \"Nr Okręgu\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Siedziba OKW\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PiS\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PO\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Samoobrona\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"SLD\",\r\n\t\t\t\t\"threshold\": 8\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"LPR\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PSL\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"MN\",\r\n\t\t\t\t\"threshold\": 0\r\n\t\t\t}\r\n\t\t], [1, \"Legnica\", 70146, 69138, 35822, 43235, 19548, 10909, 0], [2, \"Wałbrzych\", 43564, 50871, 25995, 27189, 14220, 12766, 0], [3, \"Wrocław\", 99677, 125481, 32669, 38763, 26087, 11762, 0], [4, \"Bydgoszcz\", 70464, 59334, 33363, 53211, 19121, 17578, 0], [5, \"Toruń\", 64723, 53221, 53077, 33608, 22771, 20130, 0], [6, \"Lublin\", 102403, 67564, 57881, 32086, 49044, 45066, 0], [7, \"Chełm\", 60405, 33091, 60435, 24142, 35830, 53160, 0], [8, \"Zielona Góra\", 61781, 65502, 30868, 43780, 20638, 21244, 0], [9, \"Łódź\", 72435, 71463, 25382, 41511, 22474, 6275, 0], [10, \"Piotrków Trybunalski\", 51840, 34159, 48034, 24967, 20185, 24065, 0], [11, \"Sieradz\", 61376, 43168, 62787, 42646, 19062, 35061, 0], [12, \"Chrzanów\", 69903, 43816, 17060, 17200, 23015, 12132, 0], [13, \"Kraków\", 156754, 128440, 21215, 33480, 23964, 13168, 0], [14, \"Nowy Sącz\", 92246, 54395, 21056, 14889, 31503, 19916, 0], [15, \"Tarnów\", 75578, 45176, 22006, 13181, 28160, 20809, 0], [16, \"Płock\", 55703, 33157, 41056, 27485, 15969, 36433, 0], [17, \"Radom\", 57577, 35134, 43676, 22266, 18146, 29868, 0], [18, \"Siedlce\", 75595, 37473, 55818, 21581, 34874, 48548, 0], [19, \"Warszawa I (miasto)\", 227153, 250981, 17771, 87477, 44376, 7098, 0], [20, \"Warszawa II (okręg)\", 104532, 89120, 23276, 22761, 23276, 17326, 0], [21, \"Opole\", 54779, 64683, 28244, 27718, 18204, 12778, 34469], [22, \"Krosno\", 92319, 42189, 32339, 25030, 37241, 26121, 0], [23, \"Rzeszów\", 154001, 65502, 31807, 29590, 52776, 41302, 0], [24, \"Białystok\", 98314, 52693, 41996, 42525, 39309, 28984, 0], [25, \"Gdańsk\", 89715, 138989, 23429, 31508, 19534, 9493, 0], [26, \"Gdynia\", 98994, 120766, 34645, 41395, 28175, 10974, 0], [27, \"Bielsko-Biała\", 89980, 66895, 16622, 23340, 19905, 8596, 0], [28, \"Częstochowa\", 50709, 45397, 25141, 19540, 11148, 10450, 0], [29, \"Gliwice\", 65835, 76680, 16130, 27070, 12373, 4507, 0], [30, \"Rybnik\", 70401, 71152, 17170, 26187, 15741, 5608, 0], [31, \"Katowice\", 103827, 113953, 17177, 34837, 16484, 4276, 0], [32, \"Sosnowiec\", 51355, 57562, 0, 44738, 15349, 7586, 0], [33, \"Kielce\", 86670, 56133, 62851, 44961, 22486, 51610, 0], [34, \"Elbląg\", 36355, 39052, 29404, 20005, 9289, 14980, 0], [35, \"Olsztyn\", 46619, 49698, 24349, 29476, 16077, 19484, 0], [36, \"Kalisz\", 56771, 61255, 46683, 36731, 21060, 30967, 0], [37, \"Konin\", 42936, 40948, 45136, 28503, 13681, 22210, 0], [38, \"Piła\", 37036, 54063, 32272, 34622, 16271, 21111, 0], [39, \"Poznań\", 77985, 115891, 17426, 31973, 16479, 6269, 0], [40, \"Koszalin\", 35669, 38174, 39966, 24343, 8083, 9217, 0], [41, \"Szczecin\", 71589, 86900, 35321, 45707, 18834, 11819, 0]],\r\n\t\"planktonVotes\": [34434, 21561, 53380, 32139, 37984, 42572, 23116, 26711, 54511, 19585, 22956, 17282, 43334, 14198, 17853, 20343, 18242, 23009, 124144, 36984, 25949, 18035, 28204, 41665, 35691, 34012, 26653, 20791, 28945, 18428, 40885, 34982, 40058, 17262, 20661, 28614, 24601, 23418, 39177, 19999, 37836],\r\n\t\"seatsArray\": [12, 8, 14, 12, 13, 15, 12, 12, 10, 9, 12, 8, 13, 9, 9, 10, 9, 12, 19, 11, 13, 11, 15, 15, 12, 14, 9, 7, 10, 9, 12, 9, 16, 8, 10, 12, 9, 9, 10, 8, 13]\r\n}, {\r\n\t\"year\": 2007,\r\n\t\"results\": [[{\r\n\t\t\t\t\"name\": \"Nr Okręgu\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Siedziba OKW\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PO\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PiS\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"LiD\",\r\n\t\t\t\t\"threshold\": 8\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PSL\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"MN\",\r\n\t\t\t\t\"threshold\": 0\r\n\t\t\t}\r\n\t\t], [1, \"Legnica\", 173820, 117165, 72378, 26710, 0], [2, \"Wałbrzych\", 125854, 71143, 42679, 21063, 0], [3, \"Wrocław\", 295880, 157969, 57795, 26933, 0], [4, \"Bydgoszcz\", 184705, 101436, 79619, 36476, 0], [5, \"Toruń\", 154224, 105056, 72028, 44602, 0], [6, \"Lublin\", 147852, 208323, 52680, 62983, 0], [7, \"Chełm\", 84691, 138882, 36917, 68114, 0], [8, \"Zielona Góra\", 185534, 88563, 69523, 33058, 0], [9, \"Łódź\", 193124, 117716, 75125, 15395, 0], [10, \"Piotrków Trybunalski\", 81532, 120944, 36055, 39889, 0], [11, \"Sieradz\", 116485, 134384, 53639, 53730, 0], [12, \"Chrzanów\", 97517, 108148, 28632, 24114, 0], [13, \"Kraków\", 265821, 193270, 54284, 23493, 0], [14, \"Nowy Sącz\", 85668, 152960, 19057, 30636, 0], [15, \"Tarnów\", 90638, 128391, 20609, 31599, 0], [16, \"Płock\", 90690, 109232, 34528, 60837, 0], [17, \"Radom\", 80435, 121685, 25451, 42789, 0], [18, \"Siedlce\", 91401, 158061, 30790, 69805, 0], [19, \"Warszawa I (miasto)\", 618942, 316977, 145072, 26678, 0], [20, \"Warszawa II (okręg)\", 208034, 164120, 36532, 38024, 0], [21, \"Opole\", 171683, 84295, 41250, 24392, 32462], [22, \"Krosno\", 96748, 145913, 30399, 42786, 0], [23, \"Rzeszów\", 136670, 237977, 43121, 54843, 0], [24, \"Białystok\", 149229, 178988, 67891, 42158, 0], [25, \"Gdańsk\", 258073, 127959, 50019, 20676, 0], [26, \"Gdynia\", 257010, 133711, 62694, 30798, 0], [27, \"Bielsko-Biała\", 143989, 122081, 44148, 22820, 0], [28, \"Częstochowa\", 102606, 78976, 37741, 25046, 0], [29, \"Gliwice\", 163655, 97540, 43679, 15244, 0], [30, \"Rybnik\", 134945, 109748, 36309, 12071, 0], [31, \"Katowice\", 231517, 146704, 57084, 15398, 0], [32, \"Sosnowiec\", 145755, 81360, 70378, 16381, 0], [33, \"Kielce\", 134849, 188556, 66646, 71034, 0], [34, \"Elbląg\", 99946, 55948, 35584, 26326, 0], [35, \"Olsztyn\", 135407, 72259, 42090, 37744, 0], [36, \"Kalisz\", 149053, 102266, 65221, 51750, 0], [37, \"Konin\", 101722, 87030, 51896, 41153, 0], [38, \"Piła\", 125036, 64870, 58960, 37706, 0], [39, \"Poznań\", 262322, 94187, 56547, 24383, 0], [40, \"Koszalin\", 113096, 53161, 43331, 21162, 0], [41, \"Szczecin\", 214852, 105523, 74600, 26839, 0]],\r\n\t\"planktonVotes\": [14486, 10539, 17556, 16666, 16819, 29866, 22896, 17537, 21394, 13562, 24149, 9265, 24536, 9581, 10086, 11694, 14479, 18085, 38314, 13872, 14458, 14382, 18752, 22914, 15777, 19423, 11725, 11359, 9232, 9841, 14779, 11863, 21486, 12788, 11731, 17945, 15844, 11997, 10177, 15764, 17015],\r\n\t\"seatsArray\": [12, 8, 14, 12, 13, 15, 12, 12, 10, 9, 12, 8, 13, 9, 9, 10, 9, 12, 19, 11, 13, 11, 15, 15, 12, 14, 9, 7, 10, 9, 12, 9, 16, 8, 10, 12, 9, 9, 10, 8, 13]\r\n}, {\r\n\t\"year\": 2011,\r\n\t\"results\": [[\"Nr okręgu\", \"Siedziba OKW\", {\r\n\t\t\t\t\"name\": \"PO\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PiS\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Ruch Palikota\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PSL\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"SLD\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"MN\",\r\n\t\t\t\t\"threshold\": 0\r\n\t\t\t}\r\n\t\t], [\"1\", \"Legnica\", 136683, 95277, 39899, 17888, 45825, 0], [\"2\", \"Wałbrzych\", 102368, 54271, 28853, 13832, 20177, 0], [\"3\", \"Wrocław\", 250869, 127311, 47626, 21946, 26754, 0], [\"4\", \"Bydgoszcz\", 158938, 80632, 44447, 30509, 38001, 0], [\"5\", \"Toruń\", 140681, 91049, 37741, 33443, 35253, 0], [\"6\", \"Lublin\", 116252, 177543, 54139, 57606, 29799, 0], [\"7\", \"Chełm\", 63005, 124084, 38296, 57882, 24513, 0], [\"8\", \"Zielona Góra\", 148970, 72302, 38958, 25575, 34300, 0], [\"9\", \"Łódź\", 171750, 90558, 39204, 9750, 35069, 0], [\"10\", \"Piotrków Trybunalski\", 66889, 103472, 23010, 34789, 23988, 0], [\"11\", \"Sieradz\", 106601, 109205, 35623, 42671, 29933, 0], [\"12\", \"Kraków I\", 85670, 91220, 20551, 14074, 16438, 0], [\"13\", \"Kraków II\", 224915, 156800, 45079, 22574, 27482, 0], [\"14\", \"Nowy Sącz\", 77809, 143543, 13022, 19387, 11750, 0], [\"15\", \"Tarnów\", 76688, 112982, 17017, 25833, 13863, 0], [\"16\", \"Płock\", 78623, 93307, 23175, 51766, 20798, 0], [\"17\", \"Radom\", 67349, 103798, 22056, 36488, 19828, 0], [\"18\", \"Siedlce\", 77181, 139926, 23490, 61136, 24418, 0], [\"19\", \"Warszawa I\", 498599, 277577, 110589, 17755, 78020, 0], [\"20\", \"Warszawa II\", 182123, 145893, 38482, 32064, 23739, 0], [\"21\", \"Opole\", 140641, 65739, 30919, 18816, 24723, 28014], [\"22\", \"Krosno\", 75403, 133320, 21044, 37702, 18407, 0], [\"23\", \"Rzeszów\", 111871, 219629, 30718, 47832, 25649, 0], [\"24\", \"Białystok\", 127224, 158572, 34397, 47338, 40603, 0], [\"25\", \"Gdańsk\", 219106, 102131, 37615, 19313, 25542, 0], [\"26\", \"Gdynia\", 220245, 113647, 43264, 25485, 36190, 0], [\"27\", \"Bielsko-Biała\", 131471, 98152, 29338, 21143, 19881, 0], [\"28\", \"Częstochowa\", 78500, 61429, 30049, 19688, 23547, 0], [\"29\", \"Gliwice\", 140272, 65724, 30320, 14028, 21932, 0], [\"30\", \"Rybnik\", 118524, 75504, 23804, 9206, 20908, 0], [\"31\", \"Katowice\", 195018, 98737, 43884, 11237, 25704, 0], [\"32\", \"Sosnowiec\", 120530, 59453, 41504, 12281, 36460, 0], [\"33\", \"Kielce\", 109916, 138039, 38331, 85590, 42096, 0], [\"34\", \"Elbląg\", 82904, 45403, 22659, 23870, 15091, 0], [\"35\", \"Olsztyn\", 108522, 59996, 29122, 30713, 23020, 0], [\"36\", \"Kalisz\", 125596, 82114, 34367, 43278, 40250, 0], [\"37\", \"Konin\", 80857, 71795, 29236, 33590, 34289, 0], [\"38\", \"Piła\", 113226, 50023, 28633, 31192, 29638, 0], [\"39\", \"Poznań\", 220354, 76772, 46750, 11960, 33764, 0], [\"40\", \"Koszalin\", 99506, 45558, 26582, 13756, 24474, 0], [\"41\", \"Szczecin\", 178124, 82529, 45111, 16545, 42165, 0]],\r\n\t\"planktonVotes\": [8499, 6023, 22001, 15097, 13498, 24816, 10149, 12551, 15932, 8987, 15867, 10830, 29708, 13312, 11567, 8841, 9016, 16153, 35024, 27565, 10753, 12154, 21622, 20589, 11619, 14997, 11470, 11243, 8912, 16102, 28135, 10092, 18932, 5733, 8631, 13194, 12153, 7241, 10397, 5157, 16546],\r\n\t\"seatsArray\": [12, 8, 14, 12, 13, 15, 12, 12, 10, 9, 12, 8, 14, 10, 9, 10, 9, 12, 20, 12, 12, 11, 15, 14, 12, 14, 9, 7, 9, 9, 12, 9, 16, 8, 10, 12, 9, 9, 10, 8, 12]\r\n}, {\r\n\t\"year\": 2015,\r\n\t\"results\": [[{\r\n\t\t\t\t\"name\": \"Nr okręgu\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Siedziba OKW\"\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PiS\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PO\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Kukiz'15\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \".N\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"PSL\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"ZLew\",\r\n\t\t\t\t\"threshold\": 8\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Korwin\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"Razem\",\r\n\t\t\t\t\"threshold\": 5\r\n\t\t\t}, {\r\n\t\t\t\t\"name\": \"MN\",\r\n\t\t\t\t\"threshold\": 0\r\n\t\t\t}\r\n\t\t], [\"1\", \"Legnica\", 127370, 90060, 34229, 25506, 13886, 37298, 15427, 13003, 0], [\"2\", \"Wałbrzych\", 72929, 76424, 20634, 15544, 7448, 20517, 10075, 7984, 0], [\"3\", \"Wrocław\", 163323, 159582, 45726, 55756, 13604, 31932, 27341, 22059, 0], [\"4\", \"Bydgoszcz\", 113024, 110948, 29080, 27334, 22701, 37583, 17002, 14062, 0], [\"5\", \"Toruń\", 121703, 93432, 30159, 23563, 24476, 39003, 14134, 13227, 0], [\"6\", \"Lublin\", 232014, 80892, 45448, 22158, 37733, 29172, 24376, 13395, 0], [\"7\", \"Chełm\", 163122, 41823, 35567, 12745, 38689, 24161, 14835, 8116, 0], [\"8\", \"Zielona Góra\", 97877, 97676, 30284, 34586, 17743, 34695, 17274, 13825, 0], [\"9\", \"Łódź\", 107350, 112333, 25992, 32274, 9710, 37615, 17163, 16627, 0], [\"10\", \"Piotrków Trybunalski\", 134134, 44173, 28808, 15983, 21364, 21352, 11160, 8747, 0], [\"11\", \"Sieradz\", 147623, 78314, 32973, 19681, 29044, 30256, 15171, 13077, 0], [\"12\", \"Kraków I (południe)\", 133213, 55454, 23551, 15731, 8226, 14473, 12089, 8840, 0], [\"13\", \"Kraków II (północ)\", 209607, 133558, 39379, 52822, 14644, 34643, 34446, 21053, 0], [\"14\", \"Nowy Sącz\", 188010, 43309, 24318, 11468, 12929, 7924, 13379, 6627, 0], [\"15\", \"Tarnów\", 151623, 42887, 28005, 13233, 23552, 9933, 13766, 7082, 0], [\"16\", \"Płock\", 131431, 49353, 25257, 15451, 31994, 24440, 12214, 10062, 0], [\"17\", \"Radom\", 130758, 48332, 23149, 13233, 25933, 13258, 10770, 7203, 0], [\"18\", \"Siedlce\", 191733, 50858, 31378, 17386, 38396, 16327, 16332, 9964, 0], [\"19\", \"Warszawa I (miasto)\", 327342, 301672, 84937, 146629, 7882, 93666, 67700, 60663, 0], [\"20\", \"Warszawa II (okręg)\", 190355, 123227, 35418, 49098, 18666, 27774, 23586, 18895, 0], [\"21\", \"Opole\", 93926, 88731, 42533, 24152, 12464, 22841, 13346, 10202, 27530], [\"22\", \"Krosno\", 174900, 44971, 29919, 12981, 23805, 14893, 13984, 7595, 0], [\"23\", \"Rzeszów\", 284642, 66516, 47071, 21106, 23667, 22409, 25163, 11623, 0], [\"24\", \"Białystok\", 197575, 72894, 39509, 23361, 35116, 32015, 20297, 11258, 0], [\"25\", \"Gdańsk\", 126466, 148305, 30536, 39184, 12904, 28168, 21366, 16992, 0], [\"26\", \"Gdynia\", 145698, 156147, 37410, 38344, 15064, 30973, 20677, 18918, 0], [\"27\", \"Bielsko-Biała\", 136330, 79506, 31570, 27882, 11533, 22122, 15788, 12557, 0], [\"28\", \"Częstochowa\", 84773, 49580, 27521, 15942, 11799, 26305, 10111, 8625, 0], [\"29\", \"Gliwice\", 89584, 85130, 35793, 26122, 7342, 21163, 14949, 12181, 0], [\"30\", \"Rybnik\", 114799, 70188, 32794, 18341, 5197, 17201, 13136, 9669, 0], [\"31\", \"Katowice\", 135367, 116658, 41344, 35591, 4064, 27837, 22803, 16786, 0], [\"32\", \"Sosnowiec\", 84410, 72755, 29161, 25522, 6687, 39774, 13682, 12652, 0], [\"33\", \"Kielce\", 200652, 80866, 44115, 23360, 44574, 36880, 19395, 13106, 0], [\"34\", \"Elbląg\", 63236, 60359, 16514, 11668, 13411, 15407, 9480, 7608, 0], [\"35\", \"Olsztyn\", 80970, 72055, 23888, 18141, 22458, 23312, 13584, 9948, 0], [\"36\", \"Kalisz\", 115668, 89668, 28996, 25557, 39874, 32047, 15422, 11497, 0], [\"37\", \"Konin\", 103781, 56111, 24486, 19237, 19027, 32649, 11061, 11032, 0], [\"38\", \"Piła\", 73665, 83845, 24359, 18859, 20712, 24723, 11004, 10591, 0], [\"39\", \"Poznań\", 97975, 146141, 24825, 59387, 7809, 33080, 19548, 18854, 0], [\"40\", \"Koszalin\", 62032, 65262, 20428, 17488, 8972, 24697, 9672, 8466, 0], [\"41\", \"Szczecin\", 110697, 121479, 32030, 32964, 14776, 32584, 20291, 15678, 0]],\r\n\t\"planktonVotes\": [0, 2540, 4048, 2543, 2813, 2532, 628, 2258, 0, 0, 3606, 0, 2616, 2497, 1560, 0, 2706, 2866, 4724, 3597, 2523, 3817, 5060, 3343, 3210, 3477, 0, 1978, 1403, 8638, 10740, 0, 5742, 2679, 1810, 4455, 0, 2515, 2267, 0, 0],\r\n\t\"seatsArray\": [12, 8, 14, 12, 13, 15, 12, 12, 10, 9, 12, 8, 14, 10, 9, 10, 9, 12, 20, 12, 12, 11, 15, 14, 12, 14, 9, 7, 9, 9, 12, 9, 16, 8, 10, 12, 9, 9, 10, 8, 12]\r\n}\r\n]\r\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport { connect } from 'react-redux';\r\nimport { ResultsTable } from './components/ResultsTable';\r\nimport { TopBar } from './components/TopBar';\r\nimport { BottomBar } from './components/BottomBar';\r\nimport { setRawResults } from './state/actionCreators';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { theme } from './theme';\r\nimport { results } from './results/results-synthetic';\r\n\r\nconst mapStateToProps = () => ({});\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  tableWrapper: {\r\n    maxHeight: 'calc(100vh - 10.25rem)',\r\n    overflow: 'auto',\r\n  },\r\n});\r\n\r\nexport function App({ dispatch }) {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    dispatch(setRawResults(results));\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <div className=\"App\">\r\n        <TopBar></TopBar>\r\n        <div className={classes.root}>\r\n          <div className={classes.tableWrapper}>\r\n            <ResultsTable />\r\n          </div>\r\n        </div>\r\n        <BottomBar></BottomBar>\r\n      </div>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { sumArray } from '../utilities/arrayHelpers';\r\nimport { adjustArrayToDesiredSum } from '../utilities/arrayHelpers';\r\nimport { zip, unzip } from 'lodash';\r\n\r\nconst sum2DimensionalArray = arr => sumArray(arr.map(sumArray));\r\n\r\nconst calculateMajorVotesSum = state =>\r\n  sum2DimensionalArray(state.resultsInAllDistricts);\r\n\r\nconst getSumOfAllVotes = state => {\r\n  const majorVotesSum = calculateMajorVotesSum(state);\r\n  const planktonVotesSum = sumArray(state.planktonVotesInDistricts);\r\n  return majorVotesSum + planktonVotesSum;\r\n};\r\n\r\nexport function percentageVotesReducer(state, action) {\r\n  const bigSum = getSumOfAllVotes(state);\r\n  const percentages = action.payload;\r\n  const desiredSums = percentages.map(value => Math.floor(bigSum * value));\r\n  const transposedVotes = unzip(state.resultsInAllDistricts);\r\n\r\n  const transposedAndAdjustedVotes = zip(transposedVotes, desiredSums).map(\r\n    ([column, sum]) => adjustArrayToDesiredSum(column, sum)\r\n  );\r\n\r\n  const resultsInAllDistricts = unzip(transposedAndAdjustedVotes);\r\n  const newSumOfMajorVotes = sum2DimensionalArray(resultsInAllDistricts);\r\n  const remainingVotesToBeDistributed = bigSum - newSumOfMajorVotes;\r\n\r\n  const planktonVotesInDistricts = adjustArrayToDesiredSum(\r\n    state.planktonVotesInDistricts,\r\n    remainingVotesToBeDistributed\r\n  );\r\n\r\n  const summedPlanktonVotes = sumArray(planktonVotesInDistricts);\r\n\r\n  return Object.assign({}, state, {\r\n    resultsInAllDistricts,\r\n    planktonVotesInDistricts,\r\n    summedPlanktonVotes,\r\n  });\r\n}\r\n","import {\r\n  SET_SINGLE_RESULTS,\r\n  SET_THRESHOLDS,\r\n  SET_RESULTS_IN_COLUMN,\r\n  SET_PERCENTAGE_VOTES,\r\n  SET_RAW_RESULTS,\r\n  SET_YEAR,\r\n} from './actions';\r\n\r\nimport { resultsInCellReducer } from './resultsInCellReducer';\r\nimport { resultsInColumnReducer } from './resultsInColumnReducer';\r\nimport { percentageVotesReducer } from './percentageVotesReducer';\r\nimport { thresholdsReducer } from './thresholdsReducer';\r\nimport { rawResultsForAllYearsReducer } from './rawResultsForAllYearsReducer';\r\nimport { yearReducer } from './yearReducer';\r\n\r\nconst DEFAULT_STATE = {\r\n  votingDistricts: [],\r\n  parties: [],\r\n  resultsInAllDistricts: [[]],\r\n  originalResultsInAllDistricts: [[]],\r\n  planktonVotesInDistricts: [],\r\n  originalResultsForAllElections: [],\r\n  year: null,\r\n};\r\n\r\nexport function rootReducer(state = DEFAULT_STATE, action = {}) {\r\n  switch (action.type) {\r\n    case SET_SINGLE_RESULTS: {\r\n      return resultsInCellReducer(state, action);\r\n    }\r\n    case SET_RESULTS_IN_COLUMN: {\r\n      return resultsInColumnReducer(state, action);\r\n    }\r\n    case SET_PERCENTAGE_VOTES: {\r\n      return percentageVotesReducer(state, action);\r\n    }\r\n    case SET_THRESHOLDS: {\r\n      return thresholdsReducer(state, action);\r\n    }\r\n    case SET_RAW_RESULTS: {\r\n      return rawResultsForAllYearsReducer(state, action);\r\n    }\r\n    case SET_YEAR: {\r\n      return yearReducer(state, action);\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n}\r\n","import { createStore } from 'redux';\r\nimport { rootReducer } from './reducers';\r\n\r\nexport const store = createStore(rootReducer);\r\n","import { cloneDeep } from 'lodash';\r\n\r\nexport function resultsInCellReducer(state, action) {\r\n  const { districtNumber, cellNumber, value } = action.payload;\r\n  const { resultsInAllDistricts } = state;\r\n  const newResultsInDistricts = cloneDeep(resultsInAllDistricts);\r\n  newResultsInDistricts[+districtNumber][+cellNumber] = value;\r\n\r\n  const stateWithUpdatedResults = {\r\n    resultsInAllDistricts: newResultsInDistricts,\r\n    summedPlanktonVotes: state.summedPlanktonVotes,\r\n  };\r\n\r\n  const newState = Object.assign({}, state, stateWithUpdatedResults);\r\n  return newState;\r\n}\r\n","import { adjustArrayToDesiredSum } from '../utilities/arrayHelpers';\r\n\r\nexport function resultsInColumnReducer(state, action) {\r\n  const { votes, columnNumber } = action.payload;\r\n\r\n  const relevantColumn = state.originalResultsInAllDistricts.map(\r\n    row => row[columnNumber]\r\n  );\r\n\r\n  const finalColumn = adjustArrayToDesiredSum(relevantColumn, votes);\r\n\r\n  const resultsInAllDistricts = state.resultsInAllDistricts.map(\r\n    (row, cellNumber) =>\r\n      row.map((value, index) =>\r\n        index === columnNumber ? finalColumn[cellNumber] : value\r\n      )\r\n  );\r\n\r\n  return Object.assign({}, state, { resultsInAllDistricts });\r\n}\r\n","export function thresholdsReducer(state, action) {\r\n  const thresholds = action.payload;\r\n  const parties = state.parties.map(({ name, threshold }, i) => ({\r\n    name,\r\n    threshold: thresholds[i],\r\n  }));\r\n  return Object.assign({}, state, { parties });\r\n}\r\n","export function rawResultsForAllYearsReducer(state, { payload }) {\r\n  return Object.assign({}, state, {\r\n    originalResultsForAllElections: payload,\r\n  });\r\n}\r\n","import { sumArray } from '../utilities/arrayHelpers';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport function yearReducer(state, { payload }) {\r\n  const yearInArray = state.originalResultsForAllElections.find(\r\n    election => election.year === payload\r\n  );\r\n  const { results, planktonVotes, seatsArray } = yearInArray;\r\n\r\n  const votingDistricts = results\r\n    .slice(1)\r\n    .map(([districtNumber, districtName], i) => ({\r\n      districtNumber,\r\n      districtName,\r\n      seats: seatsArray[i],\r\n    }));\r\n\r\n  const parties = results[0].slice(2);\r\n  const resultsInAllDistricts = results.slice(1).map(row => row.slice(2));\r\n  const originalResultsInAllDistricts = cloneDeep(resultsInAllDistricts);\r\n  const summedPlanktonVotes = sumArray(planktonVotes);\r\n\r\n  const newState = Object.assign({}, state, {\r\n    resultsInAllDistricts,\r\n    summedPlanktonVotes,\r\n    planktonVotesInDistricts: planktonVotes,\r\n    originalResultsInAllDistricts,\r\n    votingDistricts,\r\n    parties,\r\n    year: payload,\r\n  });\r\n\r\n  return newState;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { store } from './state/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}